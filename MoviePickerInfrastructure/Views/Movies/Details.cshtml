@* @model MoviePickerDomain.Model.Movie
 *@

 @model MovieViewModel

@{
    ViewData["Title"] = "Details";
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="mr-auto">@Localizer["details"]</h1>
    <div class="ml-auto">
        <a asp-action="Edit" asp-route-id="@Model?.Movie.Id" class="btn btn-primary rounded-pill">@Localizer["edit"]</a>
        <a asp-action="Index" class="btn btn-primary rounded-pill">@Localizer["backToList"]</a>
    </div>
</div>


<h4>@Localizer["movie"]</h4>
<hr />


<div class="d-flex flex-column">
    <div class="d-flex mb-3">
        <div class="mr-3">
            @if (Model.Movie.MovieImage != null && Model.Movie.MovieImage.Length > 0)
            {
                <img src="data:image;base64,@Convert.ToBase64String(Model.Movie.MovieImage)" alt="Movie Image" class="image-fit" style="max-width: 350px;">
            }
        </div>
        <div>
            <p class="card-text">@Localizer["director"]: @Model.Movie.Director.Name</p>
            <p class="card-text">@Localizer["releaseDate"]: @Model.Movie.ReleaseDate</p>
            <p class="card-text">@Localizer["duration"]: @Model.Movie.Duration @Localizer["minutes"]</p>
            <p class="card-text">@Localizer["rating"]: @Model.Movie.Rating</p>
            <p class="card-text">@Localizer["budget"]: @Model.Movie.ShowCash(Model.Movie.Budget) @Localizer["millions"]</p>
            <p class="card-text">@Localizer["boxOfficeRevenue"]: @Model.Movie.ShowCash(Model.Movie.BoxOfficeRevenue) @Localizer["millions"]</p>
            <p class="card-text">@Localizer["description"]: @Model.Movie.Description</p>
        </div>
    </div>




<table class="table">
    <tr>
        <th>@Localizer["genres"]</th>
    </tr>
    <tr>
        <td>
            <ul>
                @foreach(var genre in Model.Genres)
                {
                    <li>
                            <a asp-action="MoviesByGenre" asp-route-genreId="@genre.Id">  @genre.Name </a>
                    </li>
                }
            </ul>
        </td>
    </tr>
</table>


<table class="table">
    <tr>
        <th>@Localizer["director"]</th>
    </tr>
    <tr>
        <td>
            <ul>
                
               <a asp-action="DirectorInfo" asp-route-directorId="@Model.Movie.DirectorId">  @Model.Movie.Director!.Name </a>
                    
               
            </ul>
        </td>
    </tr>
</table>



<table class="table">
    <tr>
        <th>@Localizer["actors"]</th>
    </tr>
    <tr>
        <td>
            <ul>
                @foreach (var actor in Model.Actors)
                {
                    <li>
                        <a asp-action="ActorInfo" asp-route-actorId="@actor.Id">  @actor.Name </a>
                    </li>
                }
            </ul>
        </td>
    </tr>
</table>


<table class="table">
    <tr>
        <th>@Localizer["languages"]</th>
    </tr>
    <tr>
        <td>
            <ul>
                @foreach (var language in Model.Languages)
                {
                    <li>
                        <a asp-action="MoviesByLanguage" asp-route-languageId="@language.Id">  @language.Name </a>
                    </li>
                }
            </ul>
        </td>
    </tr>
</table>


<table class="table">
    <tr>
        <th>@Localizer["reviews"]</th>
    </tr>
    <tr>
        <td>
            <ul>
                @foreach (var review in Model.Reviews)
                {
                    <li>
                        <a asp-action="ShowReviewInfo" asp-route-reviewId="@review.Id">  @review.Title : @review.Text : @review.Rating</a>
                    </li>
                }
            </ul>
        </td>
    </tr>
</table>
